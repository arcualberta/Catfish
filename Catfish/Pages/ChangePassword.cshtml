@page  "{reset:bool?}"
@model Catfish.Pages.ChangePasswordPageModel

@{

    ViewBag.Title = "Reset Password";
    Layout = "..\\Views\\Shared\\_Layout";
}



<div class="container">
    @if (Model.IsReset)
    {
        <h3>Reset Password</h3>
        <div class="alert alert-info">
            A new password has been sent to you by email. Please use it as the current password in the form below to create a new password.
        </div>
    }
    else
    {
        <h3>Change Password</h3>
        <div class="alert alert-warning">
            Please only use this page to change your local-account password, NOT external or Google account!
        </div>
    }

<form method="post">
    @Html.HiddenFor(model => model.IsReset)
    @*@Html.HiddenFor(model => model.Expired)*@
    <div class=" col-md-6 form-group">
        <label>Email: </label>
        @Html.TextBoxFor(m => m.Email, null, new { @class = "form-control", @placeholder = "email address", @type = "email" })

    </div>
    <div class="col-md-6 form-group">
        <label>
            @if (Model.IsReset)
            {@Html.Raw("Password you received by email:")}
        else
        { @Html.Raw("Current Password:")}
        </label>
        @Html.TextBoxFor(m => m.CurrentPassword, null, new { @class = "form-control ", @placeholder = "Current Password", @type = "password" })
    </div>
    <div class="col-md-6 form-group">
        <label>Password: </label>
        @Html.TextBoxFor(m => m.NewPassword, null, new { @class = "form-control", @placeholder = "New Password", @type = "password" })
    </div>
    <div class=" col-md-6 form-group">
        <label>Confirmed Password: </label>
        @Html.TextBoxFor(m => m.ConfirmPassword, null, new { @class = "form-control ", @placeholder = "Confirmed Password", @type = "password" })
    </div>
    <input type="submit" name="resetPassBtn" value="Reset Password" class="btn btn-primary" style="margin-bottom:20px;" />
</form>

    @if (!string.IsNullOrEmpty(Model.ErrorMessage))
    {
        <div class="alert alert-danger">
            @Model.ErrorMessage
        </div>
    }
    @if (!string.IsNullOrEmpty(Model.SuccessMessage))
    {
        <div class="alert alert-success">
            @Model.SuccessMessage
        </div>
    }
</div>

