(function(j,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],n):(j=typeof globalThis<"u"?globalThis:j||self,n(j.CatfishUI={},j.Vue))})(this,function(j,n){"use strict";var ye=(e=>(e.ShortAnswer="Short Answer",e.Paragraph="Paragraph",e.RichText="Rich Text",e))(ye||{}),We=(e=>(e.Date="Date",e.DateTime="Date Time",e.Decimal="Decimal",e.Integer="Integer",e.Email="Email",e))(We||{}),ze=(e=>(e.Checkboxes="Checkboxes",e.DataList="Data List",e.RadioButtons="Radio Buttons",e.DropDown="Drop Down",e))(ze||{}),ut=(e=>(e.InfoSection="Info Section",e))(ut||{});const S={...ye,...We,...ze,...ut};var Xe=(e=>(e[e.None=0]="None",e[e.Optional=1]="Optional",e[e.Required=2]="Required",e))(Xe||{});const On=Object.freeze(Object.defineProperty({__proto__:null,TextType:ye,MonolingualFieldType:We,OptionFieldType:ze,InfoSectionType:ut,FieldTypes:S,ExtensionType:Xe},Symbol.toStringTag,{value:"Module"}));var Bn=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var o=t.toString();return t&&(t instanceof e||e.validator.test(o))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(t){for(var o="",r=0;r<t;r++)o+=((1+Math.random())*65536|0).toString(16).substring(1);return o},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}(),V=Bn,$n=!1;function Ge(e,t,o){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,o),o):(e[t]=o,o)}function pt(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}/*!
  * pinia v2.0.16
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Ve;const He=e=>Ve=e,Mn=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function pe(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ie;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ie||(Ie={}));const Oe=typeof window<"u";function Rt(e,t){for(const o in t){const r=t[o];if(!(o in e))continue;const i=e[o];pe(i)&&pe(r)&&!n.isRef(r)&&!n.isReactive(r)?e[o]=Rt(i,r):e[o]=r}return e}const Lt=()=>{};function jt(e,t,o,r=Lt){e.push(t);const i=()=>{const l=e.indexOf(t);l>-1&&(e.splice(l,1),r())};return!o&&n.getCurrentInstance()&&n.onUnmounted(i),i}function _e(e,...t){e.slice().forEach(o=>{o(...t)})}function ht(e,t){for(const o in t){if(!t.hasOwnProperty(o))continue;const r=t[o],i=e[o];pe(i)&&pe(r)&&e.hasOwnProperty(o)&&!n.isRef(r)&&!n.isReactive(r)?e[o]=ht(i,r):e[o]=r}return e}const Fn=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function Pn(e){return!pe(e)||!e.hasOwnProperty(Fn)}const{assign:te}=Object;function vt(e){return!!(n.isRef(e)&&e.effect)}function Ut(e,t,o,r){const{state:i,actions:l,getters:a}=t,s=o.state.value[e];let c;function d(){!s&&(process.env.NODE_ENV==="production"||!r)&&(o.state.value[e]=i?i():{});const f=process.env.NODE_ENV!=="production"&&r?n.toRefs(n.ref(i?i():{}).value):n.toRefs(o.state.value[e]);return te(f,l,Object.keys(a||{}).reduce((m,h)=>(process.env.NODE_ENV!=="production"&&h in f&&console.warn(`[\u{1F34D}]: A getter cannot have the same name as another state property. Rename one of them. Found with "${h}" in store "${e}".`),m[h]=n.markRaw(n.computed(()=>{He(o);const D=o._s.get(e);return a[h].call(D,D)})),m),{}))}return c=gt(e,d,t,o,r,!0),c.$reset=function(){const m=i?i():{};this.$patch(h=>{te(h,m)})},c}function gt(e,t,o={},r,i,l){let a;const s=te({actions:{}},o);if(process.env.NODE_ENV!=="production"&&!r._e.active)throw new Error("Pinia destroyed");const c={deep:!0};process.env.NODE_ENV!=="production"&&!$n&&(c.onTrigger=E=>{d?D=E:d==!1&&!y._hotUpdating&&(Array.isArray(D)?D.push(E):console.error("\u{1F34D} debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let d,f,m=n.markRaw([]),h=n.markRaw([]),D;const k=r.state.value[e];!l&&!k&&(process.env.NODE_ENV==="production"||!i)&&(r.state.value[e]={});const x=n.ref({});let Y;function Q(E){let p;d=f=!1,process.env.NODE_ENV!=="production"&&(D=[]),typeof E=="function"?(E(r.state.value[e]),p={type:Ie.patchFunction,storeId:e,events:D}):(ht(r.state.value[e],E),p={type:Ie.patchObject,payload:E,storeId:e,events:D});const _=Y=Symbol();n.nextTick().then(()=>{Y===_&&(d=!0)}),f=!0,_e(m,p,r.state.value[e])}const A=process.env.NODE_ENV!=="production"?()=>{throw new Error(`\u{1F34D}: Store "${e}" is built using the setup syntax and does not implement $reset().`)}:Lt;function q(){a.stop(),m=[],h=[],r._s.delete(e)}function J(E,p){return function(){He(r);const _=Array.from(arguments),M=[],B=[];function de(R){M.push(R)}function Ee(R){B.push(R)}_e(h,{args:_,name:E,store:y,after:de,onError:Ee});let z;try{z=p.apply(this&&this.$id===e?this:y,_)}catch(R){throw _e(B,R),R}return z instanceof Promise?z.then(R=>(_e(M,R),R)).catch(R=>(_e(B,R),Promise.reject(R))):(_e(M,z),z)}}const K=n.markRaw({actions:{},getters:{},state:[],hotState:x}),ee={_p:r,$id:e,$onAction:jt.bind(null,h),$patch:Q,$reset:A,$subscribe(E,p={}){const _=jt(m,E,p.detached,()=>M()),M=a.run(()=>n.watch(()=>r.state.value[e],B=>{(p.flush==="sync"?f:d)&&E({storeId:e,type:Ie.direct,events:D},B)},te({},c,p)));return _},$dispose:q},y=n.reactive(te(process.env.NODE_ENV!=="production"&&Oe?{_customProperties:n.markRaw(new Set),_hmrPayload:K}:{},ee));r._s.set(e,y);const W=r._e.run(()=>(a=n.effectScope(),a.run(()=>t())));for(const E in W){const p=W[E];if(n.isRef(p)&&!vt(p)||n.isReactive(p))process.env.NODE_ENV!=="production"&&i?Ge(x.value,E,n.toRef(W,E)):l||(k&&Pn(p)&&(n.isRef(p)?p.value=k[E]:ht(p,k[E])),r.state.value[e][E]=p),process.env.NODE_ENV!=="production"&&K.state.push(E);else if(typeof p=="function"){const _=process.env.NODE_ENV!=="production"&&i?p:J(E,p);W[E]=_,process.env.NODE_ENV!=="production"&&(K.actions[E]=p),s.actions[E]=p}else process.env.NODE_ENV!=="production"&&vt(p)&&(K.getters[E]=l?o.getters[E]:p,Oe&&(W._getters||(W._getters=n.markRaw([]))).push(E))}if(te(y,W),te(n.toRaw(y),W),Object.defineProperty(y,"$state",{get:()=>process.env.NODE_ENV!=="production"&&i?x.value:r.state.value[e],set:E=>{if(process.env.NODE_ENV!=="production"&&i)throw new Error("cannot set hotState");Q(p=>{te(p,E)})}}),process.env.NODE_ENV!=="production"){y._hotUpdate=n.markRaw(p=>{y._hotUpdating=!0,p._hmrPayload.state.forEach(_=>{if(_ in y.$state){const M=p.$state[_],B=y.$state[_];typeof M=="object"&&pe(M)&&pe(B)?Rt(M,B):p.$state[_]=B}Ge(y,_,n.toRef(p.$state,_))}),Object.keys(y.$state).forEach(_=>{_ in p.$state||pt(y,_)}),d=!1,f=!1,r.state.value[e]=n.toRef(p._hmrPayload,"hotState"),f=!0,n.nextTick().then(()=>{d=!0});for(const _ in p._hmrPayload.actions){const M=p[_];Ge(y,_,J(_,M))}for(const _ in p._hmrPayload.getters){const M=p._hmrPayload.getters[_],B=l?n.computed(()=>(He(r),M.call(y,y))):M;Ge(y,_,B)}Object.keys(y._hmrPayload.getters).forEach(_=>{_ in p._hmrPayload.getters||pt(y,_)}),Object.keys(y._hmrPayload.actions).forEach(_=>{_ in p._hmrPayload.actions||pt(y,_)}),y._hmrPayload=p._hmrPayload,y._getters=p._getters,y._hotUpdating=!1});const E={writable:!0,configurable:!0,enumerable:!1};Oe&&["_p","_hmrPayload","_getters","_customProperties"].forEach(p=>{Object.defineProperty(y,p,{value:y[p],...E})})}return r._p.forEach(E=>{if(process.env.NODE_ENV!=="production"&&Oe){const p=a.run(()=>E({store:y,app:r._a,pinia:r,options:s}));Object.keys(p||{}).forEach(_=>y._customProperties.add(_)),te(y,p)}else te(y,a.run(()=>E({store:y,app:r._a,pinia:r,options:s})))}),process.env.NODE_ENV!=="production"&&y.$state&&typeof y.$state=="object"&&typeof y.$state.constructor=="function"&&!y.$state.constructor.toString().includes("[native code]")&&console.warn(`[\u{1F34D}]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${y.$id}".`),k&&l&&o.hydrate&&o.hydrate(y.$state,k),d=!0,f=!0,y}function qe(e,t,o){let r,i;const l=typeof t=="function";typeof e=="string"?(r=e,i=l?o:t):(i=e,r=e.id);function a(s,c){const d=n.getCurrentInstance();if(s=(process.env.NODE_ENV==="test"&&Ve&&Ve._testing?null:s)||d&&n.inject(Mn),s&&He(s),process.env.NODE_ENV!=="production"&&!Ve)throw new Error(`[\u{1F34D}]: getActivePinia was called with no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);s=Ve,s._s.has(r)||(l?gt(r,t,i,s):Ut(r,i,s),process.env.NODE_ENV!=="production"&&(a._pinia=s));const f=s._s.get(r);if(process.env.NODE_ENV!=="production"&&c){const m="__hot:"+r,h=l?gt(m,t,i,s,!0):Ut(m,te({},i),s,!0);c._hotUpdate(h),delete s.state.value[m],s._s.delete(m)}if(process.env.NODE_ENV!=="production"&&Oe&&d&&d.proxy&&!c){const m=d.proxy,h="_pStores"in m?m._pStores:m._pStores={};h[r]=f}return f}return a.$id=r,a}const Be=qe("FormBuilderStore",{state:()=>({lang:["en","fr"],form:null,transientMessage:null,transientMessageClass:null}),actions:{loadForm(e){let t=`https://localhost:5020/api/forms/${e}`;console.log(t),fetch(t,{method:"GET"}).then(o=>o.json()).then(o=>{this.form=o}).catch(o=>{console.error("Load Form API Error:",o)})},saveForm(){var r,i;if(!this.form){console.error("Cannot save null form.");return}const e=((i=(r=this.form)==null?void 0:r.id)==null?void 0:i.toString())===V.EMPTY;let t="https://localhost:5020/api/forms",o="";e?(console.log("Saving new form."),this.form.id=V.create().toString(),o="POST"):(console.log("Updating existing form."),t=`${t}/${this.form.id}`,o="PUT"),fetch(t,{body:JSON.stringify(this.form),method:o,headers:{encType:"multipart/form-data","Content-Type":"application/json"}}).then(l=>{if(l.ok)this.transientMessage="The form saved successfully",this.transientMessageClass="success";else switch(e&&this.form&&(this.form.id=V.EMPTY),this.transientMessageClass="danger",l.status){case 400:this.transientMessage="Bad request. Failed to save the form";break;case 404:this.transientMessage="Form not found";break;case 500:this.transientMessage="An internal server error occurred. Failed to save the form";break;default:this.transientMessage="Unknown error occured. Failed to save the form";break}}).catch(l=>{e&&this.form&&(this.form.id=V.EMPTY),this.transientMessage="Unknown error occurred",this.transientMessageClass="danger",console.error("Form Save API Error:",l)})}}}),we=e=>{const t={id:V.create().toString(),values:[]};return(typeof e=="string"?[e]:e).forEach(r=>{t.values.push({id:V.create().toString(),lang:r})}),t},Yt=e=>{const t={id:V.create().toString()};return e&&(t.lang=e),t},Wt=()=>V.create().toString(),zt=(e,t,o)=>{var i,l;let r;return t?r=(i=e==null?void 0:e.values)==null?void 0:i.filter(a=>a.lang===t).map(a=>a.value):r=(l=e==null?void 0:e.values)==null?void 0:l.map(a=>a.value),o?r.join(o):r},An=e=>{const t=JSON.parse(JSON.stringify(e));return t.id=Wt(),t.values.forEach(o=>{o.id=Wt()}),t};function Xt(e,t){return{id:V.create().toString(),isExtendedInput:Xe.None,optionText:t||we(e)}}const ke=(e,t)=>Rn(e.optionText,t);function Rn(e,t){var o,r,i;return t?(r=(o=e==null?void 0:e.values)==null?void 0:o.filter(l=>l.lang===t).map(l=>l.value))==null?void 0:r.at(0):(i=e==null?void 0:e.values)==null?void 0:i.map(l=>l.value)}const bt=e=>Object.values(ze).map(t=>t).includes(e.type),Gt=e=>Object.values(ye).map(t=>t).includes(e.type),Ht=e=>Object.values(We).map(t=>t).includes(e.type),Ln=(e,t)=>zt(e.title,t)[0],qt=(e,t)=>zt(e.description,t)[0],jn=(e,t)=>{var r;const o={id:V.create().toString(),fieldId:e.id};if(bt(e))o.selectedOptionIds=[],e.allowCustomOptionValues&&(o.customOptionValues=[]),(r=e.options)!=null&&r.find(i=>i.isExtendedInput)&&(o.extendedOptionValues=[]);else if(Gt(e)){const i=typeof t=="string"?[t]:t;o.multilingualTextValues=[we(i)]}else Ht(e)&&(o.monolingualTextValues=[Yt(null)]);return o},vn=(e,t)=>{var r;const o={id:V.EMPTY,formId:e.id,fieldData:[]};return(r=e.fields)==null||r.forEach(i=>{const l=jn(i,t);o.fieldData.push(l)}),o};/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Jt(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),o.push.apply(o,r)}return o}function re(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Jt(Object(o),!0).forEach(function(r){Un(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Jt(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function Je(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Je=function(t){return typeof t}:Je=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(e)}function Un(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},ae.apply(this,arguments)}function Yn(e,t){if(e==null)return{};var o={},r=Object.keys(e),i,l;for(l=0;l<r.length;l++)i=r[l],!(t.indexOf(i)>=0)&&(o[i]=e[i]);return o}function Wn(e,t){if(e==null)return{};var o=Yn(e,t),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)r=l[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(o[r]=e[r]))}return o}var zn="1.14.0";function se(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var ce=se(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),$e=se(/Edge/i),Zt=se(/firefox/i),Me=se(/safari/i)&&!se(/chrome/i)&&!se(/android/i),Qt=se(/iP(ad|od|hone)/i),Xn=se(/chrome/i)&&se(/android/i),Kt={capture:!1,passive:!1};function C(e,t,o){e.addEventListener(t,o,!ce&&Kt)}function N(e,t,o){e.removeEventListener(t,o,!ce&&Kt)}function Ze(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Gn(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ie(e,t,o,r){if(e){o=o||document;do{if(t!=null&&(t[0]===">"?e.parentNode===o&&Ze(e,t):Ze(e,t))||r&&e===o)return e;if(e===o)break}while(e=Gn(e))}return null}var en=/\s+/g;function X(e,t,o){if(e&&t)if(e.classList)e.classList[o?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(en," ").replace(" "+t+" "," ");e.className=(r+(o?" "+t:"")).replace(en," ")}}function g(e,t,o){var r=e&&e.style;if(r){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),t===void 0?o:o[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=o+(typeof o=="string"?"":"px")}}function De(e,t){var o="";if(typeof e=="string")o=e;else do{var r=g(e,"transform");r&&r!=="none"&&(o=r+" "+o)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(o)}function tn(e,t,o){if(e){var r=e.getElementsByTagName(t),i=0,l=r.length;if(o)for(;i<l;i++)o(r[i],i);return r}return[]}function le(){var e=document.scrollingElement;return e||document.documentElement}function F(e,t,o,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var l,a,s,c,d,f,m;if(e!==window&&e.parentNode&&e!==le()?(l=e.getBoundingClientRect(),a=l.top,s=l.left,c=l.bottom,d=l.right,f=l.height,m=l.width):(a=0,s=0,c=window.innerHeight,d=window.innerWidth,f=window.innerHeight,m=window.innerWidth),(t||o)&&e!==window&&(i=i||e.parentNode,!ce))do if(i&&i.getBoundingClientRect&&(g(i,"transform")!=="none"||o&&g(i,"position")!=="static")){var h=i.getBoundingClientRect();a-=h.top+parseInt(g(i,"border-top-width")),s-=h.left+parseInt(g(i,"border-left-width")),c=a+l.height,d=s+l.width;break}while(i=i.parentNode);if(r&&e!==window){var D=De(i||e),k=D&&D.a,x=D&&D.d;D&&(a/=x,s/=k,m/=k,f/=x,c=a+f,d=s+m)}return{top:a,left:s,bottom:c,right:d,width:m,height:f}}}function nn(e,t,o){for(var r=fe(e,!0),i=F(e)[t];r;){var l=F(r)[o],a=void 0;if(o==="top"||o==="left"?a=i>=l:a=i<=l,!a)return r;if(r===le())break;r=fe(r,!1)}return!1}function Ne(e,t,o,r){for(var i=0,l=0,a=e.children;l<a.length;){if(a[l].style.display!=="none"&&a[l]!==b.ghost&&(r||a[l]!==b.dragged)&&ie(a[l],o.draggable,e,!1)){if(i===t)return a[l];i++}l++}return null}function Et(e,t){for(var o=e.lastElementChild;o&&(o===b.ghost||g(o,"display")==="none"||t&&!Ze(o,t));)o=o.previousElementSibling;return o||null}function Z(e,t){var o=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==b.clone&&(!t||Ze(e,t))&&o++;return o}function on(e){var t=0,o=0,r=le();if(e)do{var i=De(e),l=i.a,a=i.d;t+=e.scrollLeft*l,o+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,o]}function Hn(e,t){for(var o in e)if(!!e.hasOwnProperty(o)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[o][r])return Number(o)}return-1}function fe(e,t){if(!e||!e.getBoundingClientRect)return le();var o=e,r=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var i=g(o);if(o.clientWidth<o.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return le();if(r||t)return o;r=!0}}while(o=o.parentNode);return le()}function qn(e,t){if(e&&t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}function yt(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Fe;function rn(e,t){return function(){if(!Fe){var o=arguments,r=this;o.length===1?e.call(r,o[0]):e.apply(r,o),Fe=setTimeout(function(){Fe=void 0},t)}}}function Jn(){clearTimeout(Fe),Fe=void 0}function ln(e,t,o){e.scrollLeft+=t,e.scrollTop+=o}function an(e){var t=window.Polymer,o=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):o?o(e).clone(!0)[0]:e.cloneNode(!0)}var G="Sortable"+new Date().getTime();function Zn(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(g(i,"display")==="none"||i===b.ghost)){e.push({target:i,rect:F(i)});var l=re({},e[e.length-1].rect);if(i.thisAnimationDuration){var a=De(i,!0);a&&(l.top-=a.f,l.left-=a.e)}i.fromRect=l}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(Hn(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var l=!1,a=0;e.forEach(function(s){var c=0,d=s.target,f=d.fromRect,m=F(d),h=d.prevFromRect,D=d.prevToRect,k=s.rect,x=De(d,!0);x&&(m.top-=x.f,m.left-=x.e),d.toRect=m,d.thisAnimationDuration&&yt(h,m)&&!yt(f,m)&&(k.top-m.top)/(k.left-m.left)===(f.top-m.top)/(f.left-m.left)&&(c=Kn(k,h,D,i.options)),yt(m,f)||(d.prevFromRect=f,d.prevToRect=m,c||(c=i.options.animation),i.animate(d,k,m,c)),c&&(l=!0,a=Math.max(a,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(t),l?t=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),e=[]},animate:function(r,i,l,a){if(a){g(r,"transition",""),g(r,"transform","");var s=De(this.el),c=s&&s.a,d=s&&s.d,f=(i.left-l.left)/(c||1),m=(i.top-l.top)/(d||1);r.animatingX=!!f,r.animatingY=!!m,g(r,"transform","translate3d("+f+"px,"+m+"px,0)"),this.forRepaintDummy=Qn(r),g(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),g(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){g(r,"transition",""),g(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function Qn(e){return e.offsetWidth}function Kn(e,t,o,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-o.top,2)+Math.pow(t.left-o.left,2))*r.animation}var xe=[],_t={initializeByDefault:!0},Pe={mount:function(t){for(var o in _t)_t.hasOwnProperty(o)&&!(o in t)&&(t[o]=_t[o]);xe.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),xe.push(t)},pluginEvent:function(t,o,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var l=t+"Global";xe.forEach(function(a){!o[a.pluginName]||(o[a.pluginName][l]&&o[a.pluginName][l](re({sortable:o},r)),o.options[a.pluginName]&&o[a.pluginName][t]&&o[a.pluginName][t](re({sortable:o},r)))})},initializePlugins:function(t,o,r,i){xe.forEach(function(s){var c=s.pluginName;if(!(!t.options[c]&&!s.initializeByDefault)){var d=new s(t,o,t.options);d.sortable=t,d.options=t.options,t[c]=d,ae(r,d.defaults)}});for(var l in t.options)if(!!t.options.hasOwnProperty(l)){var a=this.modifyOption(t,l,t.options[l]);typeof a<"u"&&(t.options[l]=a)}},getEventProperties:function(t,o){var r={};return xe.forEach(function(i){typeof i.eventProperties=="function"&&ae(r,i.eventProperties.call(o[i.pluginName],t))}),r},modifyOption:function(t,o,r){var i;return xe.forEach(function(l){!t[l.pluginName]||l.optionListeners&&typeof l.optionListeners[o]=="function"&&(i=l.optionListeners[o].call(t[l.pluginName],r))}),i}};function eo(e){var t=e.sortable,o=e.rootEl,r=e.name,i=e.targetEl,l=e.cloneEl,a=e.toEl,s=e.fromEl,c=e.oldIndex,d=e.newIndex,f=e.oldDraggableIndex,m=e.newDraggableIndex,h=e.originalEvent,D=e.putSortable,k=e.extraEventProperties;if(t=t||o&&o[G],!!t){var x,Y=t.options,Q="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!ce&&!$e?x=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(x=document.createEvent("Event"),x.initEvent(r,!0,!0)),x.to=a||o,x.from=s||o,x.item=i||o,x.clone=l,x.oldIndex=c,x.newIndex=d,x.oldDraggableIndex=f,x.newDraggableIndex=m,x.originalEvent=h,x.pullMode=D?D.lastPutMode:void 0;var A=re(re({},k),Pe.getEventProperties(r,t));for(var q in A)x[q]=A[q];o&&o.dispatchEvent(x),Y[Q]&&Y[Q].call(t,x)}}var to=["evt"],U=function(t,o){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,l=Wn(r,to);Pe.pluginEvent.bind(b)(t,o,re({dragEl:u,parentEl:I,ghostEl:w,rootEl:T,nextEl:he,lastDownEl:Qe,cloneEl:O,cloneHidden:me,dragStarted:Re,putSortable:P,activeSortable:b.active,originalEvent:i,oldIndex:Se,oldDraggableIndex:Ae,newIndex:H,newDraggableIndex:ue,hideGhostForTarget:pn,unhideGhostForTarget:hn,cloneNowHidden:function(){me=!0},cloneNowShown:function(){me=!1},dispatchSortableEvent:function(s){v({sortable:o,name:s,originalEvent:i})}},l))};function v(e){eo(re({putSortable:P,cloneEl:O,targetEl:u,rootEl:T,oldIndex:Se,oldDraggableIndex:Ae,newIndex:H,newDraggableIndex:ue},e))}var u,I,w,T,he,Qe,O,me,Se,H,Ae,ue,Ke,P,Ce=!1,et=!1,tt=[],ge,ne,wt,kt,sn,cn,Re,Te,Le,je=!1,nt=!1,ot,L,Dt=[],Nt=!1,rt=[],it=typeof document<"u",lt=Qt,dn=$e||ce?"cssFloat":"float",no=it&&!Xn&&!Qt&&"draggable"in document.createElement("div"),fn=function(){if(!!it){if(ce)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),mn=function(t,o){var r=g(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),l=Ne(t,0,o),a=Ne(t,1,o),s=l&&g(l),c=a&&g(a),d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+F(l).width,f=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+F(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&s.float&&s.float!=="none"){var m=s.float==="left"?"left":"right";return a&&(c.clear==="both"||c.clear===m)?"vertical":"horizontal"}return l&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||d>=i&&r[dn]==="none"||a&&r[dn]==="none"&&d+f>i)?"vertical":"horizontal"},oo=function(t,o,r){var i=r?t.left:t.top,l=r?t.right:t.bottom,a=r?t.width:t.height,s=r?o.left:o.top,c=r?o.right:o.bottom,d=r?o.width:o.height;return i===s||l===c||i+a/2===s+d/2},ro=function(t,o){var r;return tt.some(function(i){var l=i[G].options.emptyInsertThreshold;if(!(!l||Et(i))){var a=F(i),s=t>=a.left-l&&t<=a.right+l,c=o>=a.top-l&&o<=a.bottom+l;if(s&&c)return r=i}}),r},un=function(t){function o(l,a){return function(s,c,d,f){var m=s.options.group.name&&c.options.group.name&&s.options.group.name===c.options.group.name;if(l==null&&(a||m))return!0;if(l==null||l===!1)return!1;if(a&&l==="clone")return l;if(typeof l=="function")return o(l(s,c,d,f),a)(s,c,d,f);var h=(a?s:c).options.group.name;return l===!0||typeof l=="string"&&l===h||l.join&&l.indexOf(h)>-1}}var r={},i=t.group;(!i||Je(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=o(i.pull,!0),r.checkPut=o(i.put),r.revertClone=i.revertClone,t.group=r},pn=function(){!fn&&w&&g(w,"display","none")},hn=function(){!fn&&w&&g(w,"display","")};it&&document.addEventListener("click",function(e){if(et)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),et=!1,!1},!0);var be=function(t){if(u){t=t.touches?t.touches[0]:t;var o=ro(t.clientX,t.clientY);if(o){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=o,r.preventDefault=void 0,r.stopPropagation=void 0,o[G]._onDragOver(r)}}},io=function(t){u&&u.parentNode[G]._isOutsideThisEl(t.target)};function b(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ae({},t),e[G]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return mn(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:b.supportPointer!==!1&&"PointerEvent"in window&&!Me,emptyInsertThreshold:5};Pe.initializePlugins(this,e,o);for(var r in o)!(r in t)&&(t[r]=o[r]);un(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:no,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?C(e,"pointerdown",this._onTapStart):(C(e,"mousedown",this._onTapStart),C(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(C(e,"dragover",this),C(e,"dragenter",this)),tt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ae(this,Zn())}b.prototype={constructor:b,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Te=null)},_getDirection:function(t,o){return typeof this.options.direction=="function"?this.options.direction.call(this,t,o,u):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var o=this,r=this.el,i=this.options,l=i.preventOnFilter,a=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(s||t).target,d=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,f=i.filter;if(po(r),!u&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||i.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Me&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=ie(c,i.draggable,r,!1),!(c&&c.animated)&&Qe!==c)){if(Se=Z(c),Ae=Z(c,i.draggable),typeof f=="function"){if(f.call(this,t,c,this)){v({sortable:o,rootEl:d,name:"filter",targetEl:c,toEl:r,fromEl:r}),U("filter",o,{evt:t}),l&&t.cancelable&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(m){if(m=ie(d,m.trim(),r,!1),m)return v({sortable:o,rootEl:m,name:"filter",targetEl:c,fromEl:r,toEl:r}),U("filter",o,{evt:t}),!0}),f)){l&&t.cancelable&&t.preventDefault();return}i.handle&&!ie(d,i.handle,r,!1)||this._prepareDragStart(t,s,c)}}},_prepareDragStart:function(t,o,r){var i=this,l=i.el,a=i.options,s=l.ownerDocument,c;if(r&&!u&&r.parentNode===l){var d=F(r);if(T=l,u=r,I=u.parentNode,he=u.nextSibling,Qe=r,Ke=a.group,b.dragged=u,ge={target:u,clientX:(o||t).clientX,clientY:(o||t).clientY},sn=ge.clientX-d.left,cn=ge.clientY-d.top,this._lastX=(o||t).clientX,this._lastY=(o||t).clientY,u.style["will-change"]="all",c=function(){if(U("delayEnded",i,{evt:t}),b.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Zt&&i.nativeDraggable&&(u.draggable=!0),i._triggerDragStart(t,o),v({sortable:i,name:"choose",originalEvent:t}),X(u,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){tn(u,f.trim(),xt)}),C(s,"dragover",be),C(s,"mousemove",be),C(s,"touchmove",be),C(s,"mouseup",i._onDrop),C(s,"touchend",i._onDrop),C(s,"touchcancel",i._onDrop),Zt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,u.draggable=!0),U("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||o)&&(!this.nativeDraggable||!($e||ce))){if(b.eventCanceled){this._onDrop();return}C(s,"mouseup",i._disableDelayedDrag),C(s,"touchend",i._disableDelayedDrag),C(s,"touchcancel",i._disableDelayedDrag),C(s,"mousemove",i._delayedDragTouchMoveHandler),C(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&C(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(c,a.delay)}else c()}},_delayedDragTouchMoveHandler:function(t){var o=t.touches?t.touches[0]:t;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){u&&xt(u),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;N(t,"mouseup",this._disableDelayedDrag),N(t,"touchend",this._disableDelayedDrag),N(t,"touchcancel",this._disableDelayedDrag),N(t,"mousemove",this._delayedDragTouchMoveHandler),N(t,"touchmove",this._delayedDragTouchMoveHandler),N(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,o){o=o||t.pointerType=="touch"&&t,!this.nativeDraggable||o?this.options.supportPointer?C(document,"pointermove",this._onTouchMove):o?C(document,"touchmove",this._onTouchMove):C(document,"mousemove",this._onTouchMove):(C(u,"dragend",this),C(T,"dragstart",this._onDragStart));try{document.selection?st(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,o){if(Ce=!1,T&&u){U("dragStarted",this,{evt:o}),this.nativeDraggable&&C(document,"dragover",io);var r=this.options;!t&&X(u,r.dragClass,!1),X(u,r.ghostClass,!0),b.active=this,t&&this._appendGhost(),v({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(ne){this._lastX=ne.clientX,this._lastY=ne.clientY,pn();for(var t=document.elementFromPoint(ne.clientX,ne.clientY),o=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ne.clientX,ne.clientY),t!==o);)o=t;if(u.parentNode[G]._isOutsideThisEl(t),o)do{if(o[G]){var r=void 0;if(r=o[G]._onDragOver({clientX:ne.clientX,clientY:ne.clientY,target:t,rootEl:o}),r&&!this.options.dragoverBubble)break}t=o}while(o=o.parentNode);hn()}},_onTouchMove:function(t){if(ge){var o=this.options,r=o.fallbackTolerance,i=o.fallbackOffset,l=t.touches?t.touches[0]:t,a=w&&De(w,!0),s=w&&a&&a.a,c=w&&a&&a.d,d=lt&&L&&on(L),f=(l.clientX-ge.clientX+i.x)/(s||1)+(d?d[0]-Dt[0]:0)/(s||1),m=(l.clientY-ge.clientY+i.y)/(c||1)+(d?d[1]-Dt[1]:0)/(c||1);if(!b.active&&!Ce){if(r&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(w){a?(a.e+=f-(wt||0),a.f+=m-(kt||0)):a={a:1,b:0,c:0,d:1,e:f,f:m};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");g(w,"webkitTransform",h),g(w,"mozTransform",h),g(w,"msTransform",h),g(w,"transform",h),wt=f,kt=m,ne=l}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!w){var t=this.options.fallbackOnBody?document.body:T,o=F(u,!0,lt,!0,t),r=this.options;if(lt){for(L=t;g(L,"position")==="static"&&g(L,"transform")==="none"&&L!==document;)L=L.parentNode;L!==document.body&&L!==document.documentElement?(L===document&&(L=le()),o.top+=L.scrollTop,o.left+=L.scrollLeft):L=le(),Dt=on(L)}w=u.cloneNode(!0),X(w,r.ghostClass,!1),X(w,r.fallbackClass,!0),X(w,r.dragClass,!0),g(w,"transition",""),g(w,"transform",""),g(w,"box-sizing","border-box"),g(w,"margin",0),g(w,"top",o.top),g(w,"left",o.left),g(w,"width",o.width),g(w,"height",o.height),g(w,"opacity","0.8"),g(w,"position",lt?"absolute":"fixed"),g(w,"zIndex","100000"),g(w,"pointerEvents","none"),b.ghost=w,t.appendChild(w),g(w,"transform-origin",sn/parseInt(w.style.width)*100+"% "+cn/parseInt(w.style.height)*100+"%")}},_onDragStart:function(t,o){var r=this,i=t.dataTransfer,l=r.options;if(U("dragStart",this,{evt:t}),b.eventCanceled){this._onDrop();return}U("setupClone",this),b.eventCanceled||(O=an(u),O.draggable=!1,O.style["will-change"]="",this._hideClone(),X(O,this.options.chosenClass,!1),b.clone=O),r.cloneId=st(function(){U("clone",r),!b.eventCanceled&&(r.options.removeCloneOnHide||T.insertBefore(O,u),r._hideClone(),v({sortable:r,name:"clone"}))}),!o&&X(u,l.dragClass,!0),o?(et=!0,r._loopId=setInterval(r._emulateDragOver,50)):(N(document,"mouseup",r._onDrop),N(document,"touchend",r._onDrop),N(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",l.setData&&l.setData.call(r,i,u)),C(document,"drop",r),g(u,"transform","translateZ(0)")),Ce=!0,r._dragStartId=st(r._dragStarted.bind(r,o,t)),C(document,"selectstart",r),Re=!0,Me&&g(document.body,"user-select","none")},_onDragOver:function(t){var o=this.el,r=t.target,i,l,a,s=this.options,c=s.group,d=b.active,f=Ke===c,m=s.sort,h=P||d,D,k=this,x=!1;if(Nt)return;function Y(Ye,Mi){U(Ye,k,re({evt:t,isOwner:f,axis:D?"vertical":"horizontal",revert:a,dragRect:i,targetRect:l,canSort:m,fromSortable:h,target:r,completed:A,onMove:function(In,Fi){return at(T,o,u,i,In,F(In),t,Fi)},changed:q},Mi))}function Q(){Y("dragOverAnimationCapture"),k.captureAnimationState(),k!==h&&h.captureAnimationState()}function A(Ye){return Y("dragOverCompleted",{insertion:Ye}),Ye&&(f?d._hideClone():d._showClone(k),k!==h&&(X(u,P?P.options.ghostClass:d.options.ghostClass,!1),X(u,s.ghostClass,!0)),P!==k&&k!==b.active?P=k:k===b.active&&P&&(P=null),h===k&&(k._ignoreWhileAnimating=r),k.animateAll(function(){Y("dragOverAnimationComplete"),k._ignoreWhileAnimating=null}),k!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===u&&!u.animated||r===o&&!r.animated)&&(Te=null),!s.dragoverBubble&&!t.rootEl&&r!==document&&(u.parentNode[G]._isOutsideThisEl(t.target),!Ye&&be(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),x=!0}function q(){H=Z(u),ue=Z(u,s.draggable),v({sortable:k,name:"change",toEl:o,newIndex:H,newDraggableIndex:ue,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=ie(r,s.draggable,o,!0),Y("dragOver"),b.eventCanceled)return x;if(u.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||k._ignoreWhileAnimating===r)return A(!1);if(et=!1,d&&!s.disabled&&(f?m||(a=I!==T):P===this||(this.lastPutMode=Ke.checkPull(this,d,u,t))&&c.checkPut(this,d,u,t))){if(D=this._getDirection(t,r)==="vertical",i=F(u),Y("dragOverValid"),b.eventCanceled)return x;if(a)return I=T,Q(),this._hideClone(),Y("revert"),b.eventCanceled||(he?T.insertBefore(u,he):T.appendChild(u)),A(!0);var J=Et(o,s.draggable);if(!J||co(t,D,this)&&!J.animated){if(J===u)return A(!1);if(J&&o===t.target&&(r=J),r&&(l=F(r)),at(T,o,u,i,r,l,t,!!r)!==!1)return Q(),o.appendChild(u),I=o,q(),A(!0)}else if(J&&so(t,D,this)){var K=Ne(o,0,s,!0);if(K===u)return A(!1);if(r=K,l=F(r),at(T,o,u,i,r,l,t,!1)!==!1)return Q(),o.insertBefore(u,K),I=o,q(),A(!0)}else if(r.parentNode===o){l=F(r);var ee=0,y,W=u.parentNode!==o,E=!oo(u.animated&&u.toRect||i,r.animated&&r.toRect||l,D),p=D?"top":"left",_=nn(r,"top","top")||nn(u,"top","top"),M=_?_.scrollTop:void 0;Te!==r&&(y=l[p],je=!1,nt=!E&&s.invertSwap||W),ee=fo(t,r,l,D,E?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,nt,Te===r);var B;if(ee!==0){var de=Z(u);do de-=ee,B=I.children[de];while(B&&(g(B,"display")==="none"||B===w))}if(ee===0||B===r)return A(!1);Te=r,Le=ee;var Ee=r.nextElementSibling,z=!1;z=ee===1;var R=at(T,o,u,i,r,l,t,z);if(R!==!1)return(R===1||R===-1)&&(z=R===1),Nt=!0,setTimeout(ao,30),Q(),z&&!Ee?o.appendChild(u):r.parentNode.insertBefore(u,z?Ee:r),_&&ln(_,0,M-_.scrollTop),I=u.parentNode,y!==void 0&&!nt&&(ot=Math.abs(y-F(r)[p])),q(),A(!0)}if(o.contains(u))return A(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){N(document,"mousemove",this._onTouchMove),N(document,"touchmove",this._onTouchMove),N(document,"pointermove",this._onTouchMove),N(document,"dragover",be),N(document,"mousemove",be),N(document,"touchmove",be)},_offUpEvents:function(){var t=this.el.ownerDocument;N(t,"mouseup",this._onDrop),N(t,"touchend",this._onDrop),N(t,"pointerup",this._onDrop),N(t,"touchcancel",this._onDrop),N(document,"selectstart",this)},_onDrop:function(t){var o=this.el,r=this.options;if(H=Z(u),ue=Z(u,r.draggable),U("drop",this,{evt:t}),I=u&&u.parentNode,H=Z(u),ue=Z(u,r.draggable),b.eventCanceled){this._nulling();return}Ce=!1,nt=!1,je=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),St(this.cloneId),St(this._dragStartId),this.nativeDraggable&&(N(document,"drop",this),N(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Me&&g(document.body,"user-select",""),g(u,"transform",""),t&&(Re&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),w&&w.parentNode&&w.parentNode.removeChild(w),(T===I||P&&P.lastPutMode!=="clone")&&O&&O.parentNode&&O.parentNode.removeChild(O),u&&(this.nativeDraggable&&N(u,"dragend",this),xt(u),u.style["will-change"]="",Re&&!Ce&&X(u,P?P.options.ghostClass:this.options.ghostClass,!1),X(u,this.options.chosenClass,!1),v({sortable:this,name:"unchoose",toEl:I,newIndex:null,newDraggableIndex:null,originalEvent:t}),T!==I?(H>=0&&(v({rootEl:I,name:"add",toEl:I,fromEl:T,originalEvent:t}),v({sortable:this,name:"remove",toEl:I,originalEvent:t}),v({rootEl:I,name:"sort",toEl:I,fromEl:T,originalEvent:t}),v({sortable:this,name:"sort",toEl:I,originalEvent:t})),P&&P.save()):H!==Se&&H>=0&&(v({sortable:this,name:"update",toEl:I,originalEvent:t}),v({sortable:this,name:"sort",toEl:I,originalEvent:t})),b.active&&((H==null||H===-1)&&(H=Se,ue=Ae),v({sortable:this,name:"end",toEl:I,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){U("nulling",this),T=u=I=w=he=O=Qe=me=ge=ne=Re=H=ue=Se=Ae=Te=Le=P=Ke=b.dragged=b.ghost=b.clone=b.active=null,rt.forEach(function(t){t.checked=!0}),rt.length=wt=kt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":u&&(this._onDragOver(t),lo(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],o,r=this.el.children,i=0,l=r.length,a=this.options;i<l;i++)o=r[i],ie(o,a.draggable,this.el,!1)&&t.push(o.getAttribute(a.dataIdAttr)||uo(o));return t},sort:function(t,o){var r={},i=this.el;this.toArray().forEach(function(l,a){var s=i.children[a];ie(s,this.options.draggable,i,!1)&&(r[l]=s)},this),o&&this.captureAnimationState(),t.forEach(function(l){r[l]&&(i.removeChild(r[l]),i.appendChild(r[l]))}),o&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,o){return ie(t,o||this.options.draggable,this.el,!1)},option:function(t,o){var r=this.options;if(o===void 0)return r[t];var i=Pe.modifyOption(this,t,o);typeof i<"u"?r[t]=i:r[t]=o,t==="group"&&un(r)},destroy:function(){U("destroy",this);var t=this.el;t[G]=null,N(t,"mousedown",this._onTapStart),N(t,"touchstart",this._onTapStart),N(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(N(t,"dragover",this),N(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),tt.splice(tt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!me){if(U("hideClone",this),b.eventCanceled)return;g(O,"display","none"),this.options.removeCloneOnHide&&O.parentNode&&O.parentNode.removeChild(O),me=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(me){if(U("showClone",this),b.eventCanceled)return;u.parentNode==T&&!this.options.group.revertClone?T.insertBefore(O,u):he?T.insertBefore(O,he):T.appendChild(O),this.options.group.revertClone&&this.animate(u,O),g(O,"display",""),me=!1}}};function lo(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function at(e,t,o,r,i,l,a,s){var c,d=e[G],f=d.options.onMove,m;return window.CustomEvent&&!ce&&!$e?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=t,c.from=e,c.dragged=o,c.draggedRect=r,c.related=i||t,c.relatedRect=l||F(t),c.willInsertAfter=s,c.originalEvent=a,e.dispatchEvent(c),f&&(m=f.call(d,c,a)),m}function xt(e){e.draggable=!1}function ao(){Nt=!1}function so(e,t,o){var r=F(Ne(o.el,0,o.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function co(e,t,o){var r=F(Et(o.el,o.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function fo(e,t,o,r,i,l,a,s){var c=r?e.clientY:e.clientX,d=r?o.height:o.width,f=r?o.top:o.left,m=r?o.bottom:o.right,h=!1;if(!a){if(s&&ot<d*i){if(!je&&(Le===1?c>f+d*l/2:c<m-d*l/2)&&(je=!0),je)h=!0;else if(Le===1?c<f+ot:c>m-ot)return-Le}else if(c>f+d*(1-i)/2&&c<m-d*(1-i)/2)return mo(t)}return h=h||a,h&&(c<f+d*l/2||c>m-d*l/2)?c>f+d/2?1:-1:0}function mo(e){return Z(u)<Z(e)?1:-1}function uo(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,o=t.length,r=0;o--;)r+=t.charCodeAt(o);return r.toString(36)}function po(e){rt.length=0;for(var t=e.getElementsByTagName("input"),o=t.length;o--;){var r=t[o];r.checked&&rt.push(r)}}function st(e){return setTimeout(e,0)}function St(e){return clearTimeout(e)}it&&C(document,"touchmove",function(e){(b.active||Ce)&&e.cancelable&&e.preventDefault()}),b.utils={on:C,off:N,css:g,find:tn,is:function(t,o){return!!ie(t,o,t,!1)},extend:qn,throttle:rn,closest:ie,toggleClass:X,clone:an,index:Z,nextTick:st,cancelNextTick:St,detectDirection:mn,getChild:Ne},b.get=function(e){return e[G]},b.mount=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(b.utils=re(re({},b.utils),r.utils)),Pe.mount(r)})},b.create=function(e,t){return new b(e,t)},b.version=zn;var $=[],ve,Ct,Tt=!1,Vt,It,ct,Ue;function ho(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(o){var r=o.originalEvent;this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):this.options.supportPointer?C(document,"pointermove",this._handleFallbackAutoScroll):r.touches?C(document,"touchmove",this._handleFallbackAutoScroll):C(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var r=o.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?N(document,"dragover",this._handleAutoScroll):(N(document,"pointermove",this._handleFallbackAutoScroll),N(document,"touchmove",this._handleFallbackAutoScroll),N(document,"mousemove",this._handleFallbackAutoScroll)),gn(),dt(),Jn()},nulling:function(){ct=Ct=ve=Tt=Ue=Vt=It=null,$.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,r){var i=this,l=(o.touches?o.touches[0]:o).clientX,a=(o.touches?o.touches[0]:o).clientY,s=document.elementFromPoint(l,a);if(ct=o,r||this.options.forceAutoScrollFallback||$e||ce||Me){Ot(o,this.options,s,r);var c=fe(s,!0);Tt&&(!Ue||l!==Vt||a!==It)&&(Ue&&gn(),Ue=setInterval(function(){var d=fe(document.elementFromPoint(l,a),!0);d!==c&&(c=d,dt()),Ot(o,i.options,d,r)},10),Vt=l,It=a)}else{if(!this.options.bubbleScroll||fe(s,!0)===le()){dt();return}Ot(o,this.options,fe(s,!1),!1)}}},ae(e,{pluginName:"scroll",initializeByDefault:!0})}function dt(){$.forEach(function(e){clearInterval(e.pid)}),$=[]}function gn(){clearInterval(Ue)}var Ot=rn(function(e,t,o,r){if(!!t.scroll){var i=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,s=t.scrollSpeed,c=le(),d=!1,f;Ct!==o&&(Ct=o,dt(),ve=t.scroll,f=t.scrollFn,ve===!0&&(ve=fe(o,!0)));var m=0,h=ve;do{var D=h,k=F(D),x=k.top,Y=k.bottom,Q=k.left,A=k.right,q=k.width,J=k.height,K=void 0,ee=void 0,y=D.scrollWidth,W=D.scrollHeight,E=g(D),p=D.scrollLeft,_=D.scrollTop;D===c?(K=q<y&&(E.overflowX==="auto"||E.overflowX==="scroll"||E.overflowX==="visible"),ee=J<W&&(E.overflowY==="auto"||E.overflowY==="scroll"||E.overflowY==="visible")):(K=q<y&&(E.overflowX==="auto"||E.overflowX==="scroll"),ee=J<W&&(E.overflowY==="auto"||E.overflowY==="scroll"));var M=K&&(Math.abs(A-i)<=a&&p+q<y)-(Math.abs(Q-i)<=a&&!!p),B=ee&&(Math.abs(Y-l)<=a&&_+J<W)-(Math.abs(x-l)<=a&&!!_);if(!$[m])for(var de=0;de<=m;de++)$[de]||($[de]={});($[m].vx!=M||$[m].vy!=B||$[m].el!==D)&&($[m].el=D,$[m].vx=M,$[m].vy=B,clearInterval($[m].pid),(M!=0||B!=0)&&(d=!0,$[m].pid=setInterval(function(){r&&this.layer===0&&b.active._onTouchMove(ct);var Ee=$[this.layer].vy?$[this.layer].vy*s:0,z=$[this.layer].vx?$[this.layer].vx*s:0;typeof f=="function"&&f.call(b.dragged.parentNode[G],z,Ee,e,ct,$[this.layer].el)!=="continue"||ln($[this.layer].el,z,Ee)}.bind({layer:m}),24))),m++}while(t.bubbleScroll&&h!==c&&(h=fe(h,!1)));Tt=d}},30),bn=function(t){var o=t.originalEvent,r=t.putSortable,i=t.dragEl,l=t.activeSortable,a=t.dispatchSortableEvent,s=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(!!o){var d=r||l;s();var f=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,m=document.elementFromPoint(f.clientX,f.clientY);c(),d&&!d.el.contains(m)&&(a("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Bt(){}Bt.prototype={startIndex:null,dragStart:function(t){var o=t.oldDraggableIndex;this.startIndex=o},onSpill:function(t){var o=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Ne(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(o,i):this.sortable.el.appendChild(o),this.sortable.animateAll(),r&&r.animateAll()},drop:bn},ae(Bt,{pluginName:"revertOnSpill"});function $t(){}$t.prototype={onSpill:function(t){var o=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),i.animateAll()},drop:bn},ae($t,{pluginName:"removeOnSpill"}),b.mount(new ho),b.mount($t,Bt);function go(){return typeof window<"u"?window.console:global.console}const bo=go();function Eo(e){const t=Object.create(null);return function(r){return t[r]||(t[r]=e(r))}}const yo=/-(\w)/g,En=Eo(e=>e.replace(yo,(t,o)=>o?o.toUpperCase():""));function Mt(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function yn(e,t,o){const r=o===0?e.children[0]:e.children[o-1].nextSibling;e.insertBefore(t,r)}function _o(e,t){return Object.values(e).indexOf(t)}function wo(e,t,o,r){if(!e)return[];const i=Object.values(e),l=t.length-r;return[...t].map((s,c)=>c>=l?i.length:i.indexOf(s))}function _n(e,t){this.$nextTick(()=>this.$emit(e.toLowerCase(),t))}function ko(e){return t=>{this.realList!==null&&this["onDrag"+e](t),_n.call(this,e,t)}}function Do(e){return["transition-group","TransitionGroup"].includes(e)}function No(e){if(!e||e.length!==1)return!1;const[{type:t}]=e;return t?Do(t.name):!1}function xo(e,t){return t?{...t.props,...t.attrs}:e}const Ft=["Start","Add","Remove","Update","End"],Pt=["Choose","Unchoose","Sort","Filter","Clone"],So=["Move",...Ft,...Pt].map(e=>"on"+e);let At=null;const Co={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},wn=n.defineComponent({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Ft.map(e=>e.toLowerCase()),...Pt.map(e=>e.toLowerCase())],props:Co,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,t=xo(this.$attrs,this.componentData);return e?(this.transitionMode=No(e),n.h(this.getTag(),t,e)):n.h(this.getTag(),t,[])},created(){this.list!==null&&this.modelValue!==null&&bo.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};Ft.forEach(i=>{e["on"+i]=ko.call(this,i)}),Pt.forEach(i=>{e["on"+i]=_n.bind(this,i)});const t=Object.keys(this.$attrs).reduce((i,l)=>(i[En(l)]=this.$attrs[l],i),{}),o=Object.assign({},t,e,{onMove:(i,l)=>this.onDragMove(i,l)});!("draggable"in o)&&(o.draggable=">*");const r=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new b(r,o),r.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?n.resolveComponent(this.component):this.tag},updateOptions(e){for(var t in e){const o=En(t);So.indexOf(o)===-1&&this._sortable.option(o,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=wo(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(e){const t=_o(this.getChildrenNodes()||[],e);if(t===-1)return null;const o=this.realList[t];return{index:t,element:o}},emitChanges(e){this.$nextTick(()=>{this.$emit("change",e)})},alterList(e){if(this.list){e(this.list);return}const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=t=>t.splice(...arguments);this.alterList(e)},updatePosition(e,t){const o=r=>r.splice(t,0,r.splice(e,1)[0]);this.alterList(o)},getVmIndex(e){const t=this.visibleIndexes,o=t.length;return e>o-1?o:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var t=this.getChildrenNodes();t[e].data=null;const o=this.getComponent();o.children=[],o.kept=void 0},onDragStart(e){this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),At=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(t===void 0)return;Mt(e.item);const o=this.getVmIndex(e.newIndex);this.spliceList(o,0,t),this.computeIndexes();const r={element:t,newIndex:o};this.emitChanges({added:r})},onDragRemove(e){if(yn(this.$el,e.item,e.oldIndex),e.pullMode==="clone"){Mt(e.clone);return}if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const o={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:o})},onDragUpdate(e){Mt(e.item),yn(e.from,e.item,e.oldIndex);const t=this.context.index,o=this.getVmIndex(e.newIndex);this.updatePosition(t,o);const r={element:this.context.element,oldIndex:t,newIndex:o};this.emitChanges({moved:r})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const o=this.move;if(!o||!this.realList)return!0;const r=this.getRelatedContextFromMoveEvent(e),i=this.context,l=this.computeFutureIndex(r,e);Object.assign(i,{futureIndex:l});const a=Object.assign({},e,{relatedContext:r,draggedContext:i});return o(a,t)},onDragEnd(){this.computeIndexes(),At=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:t}){const o=this.getTrargetedComponent(e);if(!o)return{component:o};const r=o.realList,i={list:r,component:o};if(e!==t&&r&&o.getUnderlyingVm){const l=o.getUnderlyingVm(t);if(l)return Object.assign(l,i)}return i},computeFutureIndex(e,t){const o=[...t.to.children].filter(a=>a.style.display!=="none");if(o.length===0)return 0;const r=o.indexOf(t.related),i=e.component.getVmIndex(r);return o.indexOf(At)!==-1||!t.willInsertAfter?i:i+1}}}),To={key:0},Vo={key:0},Io={class:"text-field-lable"},Oo={key:1},Bo={class:"text-field-lable"},$o={key:1},Mo={key:0},Fo={key:1},Po=n.defineComponent({__name:"Text",props:{model:null,textType:null,dispLang:{type:Boolean}},setup(e){return Be(),(t,o)=>e.dispLang?(n.openBlock(),n.createElementBlock("div",To,[e.textType===n.unref(ye).ShortAnswer?(n.openBlock(),n.createElementBlock("div",Vo,[n.createElementVNode("span",Io,n.toDisplayString(e.model.lang)+": ",1),n.withDirectives(n.createElementVNode("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=r=>e.model.value=r),class:"text-field"},null,512),[[n.vModelText,e.model.value]])])):e.textType==="Paragraph"?(n.openBlock(),n.createElementBlock("div",Oo,[n.createElementVNode("span",Bo,n.toDisplayString(e.model.lang)+": ",1),n.withDirectives(n.createElementVNode("textarea",{"onUpdate:modelValue":o[1]||(o[1]=r=>e.model.value=r),class:"field-text-area"},null,512),[[n.vModelText,e.model.value]])])):n.createCommentVNode("",!0)])):(n.openBlock(),n.createElementBlock("div",$o,[e.textType===n.unref(ye).ShortAnswer?(n.openBlock(),n.createElementBlock("div",Mo,[n.withDirectives(n.createElementVNode("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=r=>e.model.value=r),class:"text-field"},null,512),[[n.vModelText,e.model.value]])])):e.textType==="Paragraph"?(n.openBlock(),n.createElementBlock("div",Fo,[n.withDirectives(n.createElementVNode("textarea",{"onUpdate:modelValue":o[3]||(o[3]=r=>e.model.value=r),class:"text-area"},null,512),[[n.vModelText,e.model.value]])])):n.createCommentVNode("",!0)]))}}),ft=n.defineComponent({__name:"TextCollection",props:{model:null,textType:null},setup(e){return(t,o)=>(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.model.values,r=>{var i;return n.openBlock(),n.createBlock(Po,{key:r.id,model:r,"text-type":e.textType,"disp-lang":((i=e.model.values)==null?void 0:i.length)>1},null,8,["model","text-type","disp-lang"])}),128))}}),Ao={key:0},Ro={key:0,class:"option-values"},Lo={key:1},jo=n.defineComponent({__name:"Option",props:{model:null,optionType:null},setup(e){Be();const t=n.ref(!1);return(o,r)=>{const i=n.resolveComponent("font-awesome-icon");return t.value?(n.openBlock(),n.createElementBlock("span",Lo,[n.createVNode(ft,{model:e.model.optionText,"text-type":n.unref(S).ShortAnswer},null,8,["model","text-type"]),n.createVNode(i,{icon:"fa-solid fa-circle-check",onClick:r[1]||(r[1]=l=>t.value=!1),class:"fa-icon delete-button"})])):(n.openBlock(),n.createElementBlock("span",Ao,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.model.optionText.values,l=>{var a;return n.openBlock(),n.createElementBlock("span",null,[((a=l.value)==null?void 0:a.length)>0?(n.openBlock(),n.createElementBlock("span",Ro,n.toDisplayString(l.value),1)):n.createCommentVNode("",!0)])}),256)),n.createVNode(i,{icon:"fa-solid fa-pen-to-square",onClick:r[0]||(r[0]=l=>t.value=!0),class:"fa-icon"})]))}}}),vo=n.createElementVNode("h6",null,"Title:",-1),Uo=n.createElementVNode("h6",null,"Description:",-1),Yo={key:0},Wo=n.createElementVNode("h6",null,"Options:",-1),zo={class:"display-options"},Xo=n.defineComponent({__name:"Field",props:{model:null},setup(e){const t=e,o=bt(t.model),r=Be(),i=n.ref(we(r.lang)),l=()=>{var s;(s=t.model.options)==null||s.push(Xt(r.lang,An(i.value))),i.value.values.forEach(c=>{c.value=""})},a=s=>{var d,f;const c=(d=t.model.options)==null?void 0:d.findIndex(m=>m.id==s);(f=t.model.options)==null||f.splice(c,1)};return(s,c)=>{const d=n.resolveComponent("font-awesome-icon");return n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("h5",null,n.toDisplayString(e.model.type),1),n.createElementVNode("div",null,[vo,n.createVNode(ft,{model:e.model.title,"text-type":n.unref(S).ShortAnswer},null,8,["model","text-type"])]),n.createElementVNode("div",null,[Uo,n.createVNode(ft,{model:e.model.description,"text-type":n.unref(S).Paragraph},null,8,["model","text-type"])]),n.unref(o)?(n.openBlock(),n.createElementBlock("div",Yo,[Wo,n.createElementVNode("div",zo,[n.createVNode(n.unref(wn),{class:"dragArea list-group w-full",list:e.model.options},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.model.options,f=>(n.openBlock(),n.createElementBlock("div",{key:f.id,class:"option-entry"},[n.createVNode(jo,{model:f,"option-type":e.model.type},null,8,["model","option-type"]),n.createElementVNode("span",null,[n.createVNode(d,{icon:"fa-solid fa-circle-xmark",onClick:m=>a(f.id),class:"fa-icon delete"},null,8,["onClick"])])]))),128))]),_:1},8,["list"])]),n.createElementVNode("div",null,[n.createVNode(ft,{model:i.value,"text-type":n.unref(S).ShortAnswer},null,8,["model","text-type"]),n.createVNode(d,{icon:"fa-solid fa-circle-plus",onClick:c[0]||(c[0]=f=>l()),class:"fa-icon plus add-option"})])])):n.createCommentVNode("",!0)],64)}}}),Pi="",Go=n.createElementVNode("div",null,[n.createElementVNode("h4",null,"Form properties")],-1),Ho={class:"form-field-border"},qo=n.createElementVNode("span",{class:"text-field-lable"},"Name:",-1),Jo={style:{display:"inline"}},Zo=n.createElementVNode("span",{class:"text-area-lable"},"Description:",-1),Qo=n.createElementVNode("h3",null,"Fields",-1),Ko=n.defineComponent({__name:"Form",props:{model:null},setup(e){const t=e,o=r=>{var l,a;const i=(l=t.model.fields)==null?void 0:l.findIndex(s=>s.id==r);(a=t.model.fields)==null||a.splice(i,1)};return(r,i)=>{var a;const l=n.resolveComponent("font-awesome-icon");return n.openBlock(),n.createElementBlock(n.Fragment,null,[Go,n.createElementVNode("div",Ho,[n.createElementVNode("div",null,[qo,n.withDirectives(n.createElementVNode("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=s=>e.model.name=s),class:"text-field"},null,512),[[n.vModelText,e.model.name]])]),n.createElementVNode("div",Jo,[Zo,n.withDirectives(n.createElementVNode("textarea",{"onUpdate:modelValue":i[1]||(i[1]=s=>e.model.description=s),class:"text-area"},null,512),[[n.vModelText,e.model.description]])])]),Qo,n.createVNode(n.unref(wn),{class:"dragArea list-group w-full",list:(a=e.model)==null?void 0:a.fields},{default:n.withCtx(()=>{var s;return[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList((s=e.model)==null?void 0:s.fields,c=>(n.openBlock(),n.createElementBlock("div",{key:c.id,class:"form-field-border form-field"},[n.createVNode(l,{icon:"fa-solid fa-circle-xmark",onClick:d=>o(c.id),class:"fa-icon field-delete"},null,8,["onClick"]),n.createVNode(Xo,{model:c},null,8,["model"])]))),128))]}),_:1},8,["list"])],64)}}}),kn=e=>(n.pushScopeId("data-v-ebc05723"),e=e(),n.popScopeId(),e),er=kn(()=>n.createElementVNode("h2",null,"Form Builder",-1)),tr={class:"control"},nr=["disabled"],or=["disabled"],rr={class:"toolbar"},ir=["disabled"],lr=["disabled"],ar=["disabled"],sr=["disabled"],cr=["disabled"],dr=["disabled"],fr=["disabled"],mr=["disabled"],ur=["disabled"],pr=["disabled"],hr=["disabled"],gr=["disabled"],br=["disabled"],Er=kn(()=>n.createElementVNode("hr",null,null,-1)),yr=n.defineComponent({__name:"App",props:{piniaInstance:null,repositoryRoot:null,formId:null},setup(e){const t=e,o=Be(t.piniaInstance);t.formId&&o.loadForm(t.formId),n.watch(()=>o.transientMessage,async s=>{s&&setTimeout(()=>{o.transientMessage=null},2e3)});const r=()=>{o.form={id:V.EMPTY,name:"",description:"",fields:[]}},i=()=>o.saveForm(),l=n.computed(()=>!o.form),a=s=>{var d;const c={id:V.create().toString(),title:we(o.lang),description:we(o.lang),type:s};bt(c)&&(c.options=[Xt(o.lang,null)]),(d=o.form)==null||d.fields.push(c)};return(s,c)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createVNode(n.Transition,{name:"fade"},{default:n.withCtx(()=>[n.unref(o).transientMessage?(n.openBlock(),n.createElementBlock("p",{key:0,class:n.normalizeClass("alert alert-"+n.unref(o).transientMessageClass)},n.toDisplayString(n.unref(o).transientMessage),3)):n.createCommentVNode("",!0)]),_:1}),er,n.unref(o).form?(n.openBlock(),n.createBlock(Ko,{key:0,model:n.unref(o).form},null,8,["model"])):n.createCommentVNode("",!0),n.createElementVNode("div",tr,[n.createElementVNode("button",{type:"button",class:"btn btn-primary",disabled:!n.unref(l),onClick:r},"New Form",8,nr),n.createElementVNode("button",{type:"button",class:"btn btn-success",disabled:n.unref(l),onClick:i},"Save",8,or)]),n.createElementVNode("div",rr,[n.createElementVNode("button",{disabled:n.unref(l),onClick:c[0]||(c[0]=d=>a(n.unref(S).ShortAnswer))},"+ Short Answer",8,ir),n.createElementVNode("button",{disabled:n.unref(l),onClick:c[1]||(c[1]=d=>a(n.unref(S).Paragraph))},"+ Paragraph",8,lr),n.createElementVNode("button",{disabled:n.unref(l),onClick:c[2]||(c[2]=d=>a(n.unref(S).RichText))},"+ Rich Text",8,ar),n.createElementVNode("button",{disabled:n.unref(l),onClick:c[3]||(c[3]=d=>a(n.unref(S).Date))},"+ Date",8,sr),n.createElementVNode("button",{disabled:n.unref(l),onClick:c[4]||(c[4]=d=>a(n.unref(S).DateTime))},"+ Date/Time",8,cr),n.createElementVNode("button",{disabled:n.unref(l),onClick:c[5]||(c[5]=d=>a(n.unref(S).Decimal))},"+ Decimal",8,dr),n.createElementVNode("button",{disabled:n.unref(l),onClick:c[6]||(c[6]=d=>a(n.unref(S).Integer))},"+ Integer",8,fr),n.createElementVNode("button",{disabled:n.unref(l),onClick:c[7]||(c[7]=d=>a(n.unref(S).Email))},"+ Email",8,mr),n.createElementVNode("button",{disabled:n.unref(l),onClick:c[8]||(c[8]=d=>a(n.unref(S).Checkboxes))},"+ Checkboxes",8,ur),n.createElementVNode("button",{disabled:n.unref(l),onClick:c[9]||(c[9]=d=>a(n.unref(S).DataList))},"+ Data List",8,pr),n.createElementVNode("button",{disabled:n.unref(l),onClick:c[10]||(c[10]=d=>a(n.unref(S).RadioButtons))},"+ Radio Buttons",8,hr),n.createElementVNode("button",{disabled:n.unref(l),onClick:c[11]||(c[11]=d=>a(n.unref(S).DropDown))},"+ Drop Down",8,gr),n.createElementVNode("button",{disabled:n.unref(l),onClick:c[12]||(c[12]=d=>a(n.unref(S).InfoSection))},"+ Info Section",8,br)]),Er],64))}}),Ai="",mt=(e,t)=>{const o=e.__vccOpts||e;for(const[r,i]of t)o[r]=i;return o},_r=mt(yr,[["__scopeId","data-v-ebc05723"]]),oe=qe("FormSubmissionStore",{state:()=>({lang:"en",form:null,formData:{},transientMessage:null,transientMessageClass:null}),actions:{loadForm(e,t){let o=`https://localhost:5020/api/forms/${e}`;console.log(o),fetch(o,{method:"GET"}).then(r=>r.json()).then(r=>{this.form=r,t||(this.formData=vn(this.form,this.lang))}).catch(r=>{console.error("Load Form API Error:",r)})},loadSubmission(e){let t=`https://localhost:5020/api/form-submissions/${e}`;console.log(t),fetch(t,{method:"GET"}).then(o=>o.json()).then(o=>{var r;this.formData=o,(r=this.formData)!=null&&r.formId&&this.loadForm(this.formData.formId,!0)}).catch(o=>{console.error("Load Form API Error:",o)})},validateFormData(){return console.log("TODO: Validate form data."),!0},submitForm(){var r,i;if(!this.validateFormData()){console.log("Form validation failed.");return}const e=((i=(r=this.formData)==null?void 0:r.id)==null?void 0:i.toString())===V.EMPTY;let t="https://localhost:5020/api/form-submissions",o="";e?o="POST":(t=`${t}/${this.formData.id}`,o="PUT"),fetch(t,{body:JSON.stringify(this.formData),method:o,headers:{encType:"multipart/form-data","Content-Type":"application/json"}}).then(async l=>{if(l.ok){if(e){const a=await l.json();this.formData.id=a}this.transientMessage="Success",this.transientMessageClass="success",console.log("Form submission successfull.")}else switch(this.transientMessageClass="danger",l.status){case 400:this.transientMessage="Bad request. Failed to submit the form";break;case 404:this.transientMessage="Form submission not found";break;case 500:this.transientMessage="An internal server error occurred. Failed to submit the form";break;default:this.transientMessage="Unknown error occured. Failed to submit the form";break}}).catch(l=>{e&&this.formData&&(this.formData.id=V.EMPTY),this.transientMessage="Unknown error occurred",this.transientMessageClass="danger",console.error("FormData Submit API Error:",l)})},saveForm(){var r,i;if(!this.form){console.error("Cannot save null form.");return}const e=((i=(r=this.form)==null?void 0:r.id)==null?void 0:i.toString())===V.EMPTY;let t="https://localhost:5020/api/forms",o="";e?(console.log("Saving new form."),this.form.id=V.create().toString(),o="POST"):(console.log("Updating existing form."),t=`${t}/${this.form.id}`,o="PUT"),fetch(t,{body:JSON.stringify(this.form),method:o,headers:{encType:"multipart/form-data","Content-Type":"application/json"}}).then(l=>{if(l.ok)this.transientMessage="The form saved successfully",this.transientMessageClass="success";else switch(this.transientMessageClass="danger",l.status){case 400:this.transientMessage="Bad request. Failed to save the form";break;case 404:this.transientMessage="Form not found";break;case 500:this.transientMessage="An internal server error occurred. Failed to save the form";break;default:this.transientMessage="Unknown error occured. Failed to save the form";break}}).catch(l=>{this.transientMessage="Unknown error occurred",this.transientMessageClass="danger",console.error("Form Save API Error:",l)})},clearMessages(){this.transientMessage=null}}}),wr=["onUpdate:modelValue"],Dn=n.defineComponent({__name:"CustomOptions",props:{model:null},setup(e){const t=e,o=oe(),r=n.computed(()=>{var a;return(a=o.formData.fieldData)==null?void 0:a.find(s=>s.fieldId==t.model.id)}),i=a=>{var s;console.log(a),(s=r.value.customOptionValues)==null||s.splice(a,1)},l=()=>{r.value.customOptionValues||(r.value.customOptionValues=[]),r.value.customOptionValues.push("")};return(a,s)=>{const c=n.resolveComponent("font-awesome-icon");return n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",null,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(r).customOptionValues,(d,f)=>(n.openBlock(),n.createElementBlock("span",{class:"custom-option",key:d.id},[n.withDirectives(n.createElementVNode("input",{type:"text","onUpdate:modelValue":m=>n.unref(r).customOptionValues[f]=m},null,8,wr),[[n.vModelText,n.unref(r).customOptionValues[f]]]),n.createVNode(c,{icon:"fa-solid fa-circle-xmark",onClick:m=>i(f),class:"fa-icon delete"},null,8,["onClick"])]))),128))]),n.createVNode(c,{icon:"fa-solid fa-circle-plus",onClick:s[0]||(s[0]=d=>l()),class:"fa-icon plus add-option"})],64)}}}),kr=["checked","onChange"],Dr={key:0},Nr=n.defineComponent({__name:"Checkboxes",props:{model:null},setup(e){const t=e,o=oe(),r=n.computed(()=>{var a;return(a=o.formData.fieldData)==null?void 0:a.find(s=>s.fieldId==t.model.id)}),i=a=>{var s;return(s=r.value.selectedOptionIds)==null?void 0:s.includes(a)},l=(a,s)=>{var c,d,f;return s?(c=r.value.selectedOptionIds)==null?void 0:c.push(a):(f=r.value.selectedOptionIds)==null?void 0:f.splice((d=r.value.selectedOptionIds)==null?void 0:d.indexOf(a),1)};return(a,s)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.model.options,c=>(n.openBlock(),n.createElementBlock("div",{key:c.id,class:"option-field"},[n.createElementVNode("input",{type:"checkbox",checked:i(c.id),onChange:d=>l(c.id,d.target.checked)},null,40,kr),n.createTextVNode(" "+n.toDisplayString(ke(c,n.unref(o).lang))+" ",1),c.isExtendedInput!=n.unref(Xe).None?(n.openBlock(),n.createElementBlock("span",Dr," TODO: ")):n.createCommentVNode("",!0),n.createTextVNode(" "+n.toDisplayString(c.id),1)]))),128)),n.createTextVNode(" "+n.toDisplayString(n.unref(r))+" ",1),n.createVNode(Dn,{model:e.model},null,8,["model"])],64))}}),xr={id:"dataOptions"},Sr=n.defineComponent({__name:"DataList",props:{model:null},setup(e){const t=e,o=oe(),r=n.computed(()=>{var s;return(s=o.formData.fieldData)==null?void 0:s.find(c=>c.fieldId==t.model.id)}),i=s=>{var d,f;const c=(f=(d=t.model)==null?void 0:d.options)==null?void 0:f.filter(m=>m.id===s).at(0);return c?ke(c,o.lang):""},l=s=>{var d,f;const c=(f=(d=t.model)==null?void 0:d.options)==null?void 0:f.filter(m=>ke(m,o.lang)===s).at(0);return c==null?void 0:c.id},a=n.computed({get:()=>{var s,c;return i((c=(s=r==null?void 0:r.value)==null?void 0:s.selectedOptionIds)==null?void 0:c.at(0))},set:s=>{const c=l(s);c?r.value.selectedOptionIds=[c]:r.value.selectedOptionIds=[]}});return(s,c)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.withDirectives(n.createElementVNode("input",{list:"dataOptions",id:"model.id",name:"model.id","onUpdate:modelValue":c[0]||(c[0]=d=>n.isRef(a)?a.value=d:null)},null,512),[[n.vModelText,n.unref(a)]]),n.createElementVNode("datalist",xr,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.model.options,d=>(n.openBlock(),n.createElementBlock("option",{key:d.id},n.toDisplayString(ke(d,n.unref(o).lang)),1))),128))]),n.createTextVNode(" "+n.toDisplayString(n.unref(r))+" ",1),n.createVNode(Dn,{model:e.model},null,8,["model"])],64))}}),Cr=["value"],Tr=n.defineComponent({__name:"DropDown",props:{model:null},setup(e){const t=e,o=oe(),r=n.computed(()=>{var l;return(l=o.formData.fieldData)==null?void 0:l.find(a=>a.fieldId==t.model.id)}),i=n.computed({get:()=>{var l;return((l=r==null?void 0:r.value)==null?void 0:l.selectedOptionIds)&&r.value.selectedOptionIds.length>0?r.value.selectedOptionIds[0]:V.EMPTY},set:l=>r.value.selectedOptionIds=[l]});return(l,a)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.withDirectives(n.createElementVNode("select",{"onUpdate:modelValue":a[0]||(a[0]=s=>n.isRef(i)?i.value=s:null)},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.model.options,s=>(n.openBlock(),n.createElementBlock("option",{key:s.id,value:s.id},n.toDisplayString(ke(s,n.unref(o).lang)),9,Cr))),128))],512),[[n.vModelSelect,n.unref(i)]]),n.createTextVNode(" "+n.toDisplayString(n.unref(r)),1)],64))}}),Vr=["value"],Ir=n.defineComponent({__name:"RadioButtons",props:{model:null},setup(e){const t=e,o=oe(),r=n.computed(()=>{var l;return(l=o.formData.fieldData)==null?void 0:l.find(a=>a.fieldId==t.model.id)}),i=n.computed({get:()=>{var l;return((l=r==null?void 0:r.value)==null?void 0:l.selectedOptionIds)&&r.value.selectedOptionIds.length>0?r.value.selectedOptionIds[0]:V.EMPTY},set:l=>r.value.selectedOptionIds=[l]});return(l,a)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.model.options,s=>(n.openBlock(),n.createElementBlock("div",{key:s.id,class:"option-field"},[n.withDirectives(n.createElementVNode("input",{type:"radio",name:"model.id",value:s.id,"onUpdate:modelValue":a[0]||(a[0]=c=>n.isRef(i)?i.value=c:null)},null,8,Vr),[[n.vModelRadio,n.unref(i)]]),n.createTextVNode(" "+n.toDisplayString(ke(s,n.unref(o).lang)),1)]))),128)),n.createTextVNode(" "+n.toDisplayString(n.unref(r)),1)],64))}}),Or={key:0},Br={key:1},$r={key:2},Mr={key:3},Fr={key:4},Pr={key:5},Ar=["step"],Rr={key:6},Lr={key:7},Nn=n.defineComponent({__name:"Text",props:{model:null,textType:null,decimalPoints:null},setup(e){const t=e,o=t.decimalPoints?t.decimalPoints:2;return(r,i)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[e.textType===n.unref(S).ShortAnswer?(n.openBlock(),n.createElementBlock("span",Or,[n.withDirectives(n.createElementVNode("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=l=>e.model.value=l),class:"text-field"},null,512),[[n.vModelText,e.model.value]])])):e.textType===n.unref(S).Paragraph?(n.openBlock(),n.createElementBlock("span",Br,[n.withDirectives(n.createElementVNode("textarea",{"onUpdate:modelValue":i[1]||(i[1]=l=>e.model.value=l),class:"field-text-area"},null,512),[[n.vModelText,e.model.value]])])):e.textType===n.unref(S).RichText?(n.openBlock(),n.createElementBlock("span",$r,[n.withDirectives(n.createElementVNode("textarea",{"onUpdate:modelValue":i[2]||(i[2]=l=>e.model.value=l),class:"field-text-area"},null,512),[[n.vModelText,e.model.value]])])):n.createCommentVNode("",!0),e.textType===n.unref(S).Email?(n.openBlock(),n.createElementBlock("span",Mr,[n.withDirectives(n.createElementVNode("input",{type:"email","onUpdate:modelValue":i[3]||(i[3]=l=>e.model.value=l),class:"text-field"},null,512),[[n.vModelText,e.model.value]])])):n.createCommentVNode("",!0),e.textType===n.unref(S).Integer?(n.openBlock(),n.createElementBlock("span",Fr,[n.withDirectives(n.createElementVNode("input",{type:"number",step:"1","onUpdate:modelValue":i[4]||(i[4]=l=>e.model.value=l),class:"text-field"},null,512),[[n.vModelText,e.model.value]])])):n.createCommentVNode("",!0),e.textType===n.unref(S).Decimal?(n.openBlock(),n.createElementBlock("span",Pr,[n.withDirectives(n.createElementVNode("input",{type:"number",step:Math.pow(10,-n.unref(o)),"onUpdate:modelValue":i[5]||(i[5]=l=>e.model.value=l),class:"text-field"},null,8,Ar),[[n.vModelText,e.model.value]])])):n.createCommentVNode("",!0),e.textType===n.unref(S).Date?(n.openBlock(),n.createElementBlock("span",Rr,[n.withDirectives(n.createElementVNode("input",{type:"date","onUpdate:modelValue":i[6]||(i[6]=l=>e.model.value=l),class:"text-field"},null,512),[[n.vModelText,e.model.value]])])):n.createCommentVNode("",!0),e.textType===n.unref(S).DateTime?(n.openBlock(),n.createElementBlock("span",Lr,[n.withDirectives(n.createElementVNode("input",{type:"datetime-local","onUpdate:modelValue":i[7]||(i[7]=l=>e.model.value=l),class:"text-field"},null,512),[[n.vModelText,e.model.value]])])):n.createCommentVNode("",!0)],64))}}),jr=n.defineComponent({__name:"TextCollection",props:{model:null,textType:null},setup(e){return(t,o)=>(n.openBlock(),n.createElementBlock("span",null,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.model.values,r=>(n.openBlock(),n.createBlock(Nn,{key:r.id,model:r,"text-type":e.textType},null,8,["model","text-type"]))),128))]))}}),vr=["model"],Ur={key:0,class:"multilingual-field-delete"},Yr={style:{"margin-top":"-45px","margin-left":"530px"}},Wr=n.defineComponent({__name:"MultilingualTextInput",props:{model:null},setup(e){const t=e,o=oe(),r=n.computed(()=>{var a;return(a=o.formData.fieldData)==null?void 0:a.find(s=>s.fieldId==t.model.id)}),i=()=>{var a;return(a=r.value.multilingualTextValues)==null?void 0:a.push(we(o.lang))},l=a=>{var s;console.log(a),(s=r.value.multilingualTextValues)==null||s.splice(a,1)};return(a,s)=>{const c=n.resolveComponent("font-awesome-icon");return n.openBlock(),n.createElementBlock(n.Fragment,null,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(r).multilingualTextValues,d=>(n.openBlock(),n.createElementBlock("span",{key:d.id,model:d},[n.createVNode(jr,{model:d,"text-type":e.model.type},null,8,["model","text-type"]),n.unref(r).multilingualTextValues.length>1?(n.openBlock(),n.createElementBlock("span",Ur,[n.createVNode(c,{icon:"fa-solid fa-circle-xmark",onClick:f=>l(d.id),class:"fa-icon delete"},null,8,["onClick"])])):n.createCommentVNode("",!0)],8,vr))),128)),n.createElementVNode("span",Yr,[n.createVNode(c,{icon:"fa-solid fa-circle-plus",onClick:s[0]||(s[0]=d=>i()),class:"fa-icon plus add-option"})])],64)}}}),zr=["model"],Xr={key:0,class:"multilingual-field-delete"},Gr=n.createElementVNode("br",null,null,-1),Hr=n.defineComponent({__name:"MonolingualTextInput",props:{model:null},setup(e){const t=e,o=oe(),r=n.computed(()=>{var a;return(a=o.formData.fieldData)==null?void 0:a.find(s=>s.fieldId==t.model.id)}),i=()=>{var a;return(a=r.value.monolingualTextValues)==null?void 0:a.push(Yt(null))},l=a=>{var s;(s=r.value.monolingualTextValues)==null||s.splice(a,1)};return(a,s)=>{const c=n.resolveComponent("font-awesome-icon");return n.openBlock(),n.createElementBlock(n.Fragment,null,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(r).monolingualTextValues,d=>(n.openBlock(),n.createElementBlock("span",{key:d.id,model:d},[n.createVNode(Nn,{model:d,"text-type":e.model.type},null,8,["model","text-type"]),n.unref(r).monolingualTextValues.length>1?(n.openBlock(),n.createElementBlock("span",Xr,[n.createVNode(c,{icon:"fa-solid fa-circle-xmark",onClick:f=>l(d.id),class:"fa-icon delete"},null,8,["onClick"])])):n.createCommentVNode("",!0)],8,zr))),128)),n.createVNode(c,{icon:"fa-solid fa-circle-plus",onClick:s[0]||(s[0]=d=>i()),class:"fa-icon plus add-option",style:{"margin-top":"-45px","margin-left":"530px"}}),Gr],64)}}}),qr=n.createElementVNode("br",null,null,-1),Jr=n.createTextVNode("Default Alert"),Zr=["innerHTML"],Qr=n.defineComponent({__name:"InfoSection",props:{model:null},setup(e){const t=e,o=oe(),r=qt(t.model,o.lang);return(i,l)=>{const a=n.resolveComponent("b-alert");return n.openBlock(),n.createElementBlock("div",null,[qr,n.createVNode(a,{show:""},{default:n.withCtx(()=>[Jr]),_:1}),n.createElementVNode("div",{innerHTML:n.unref(r),class:"alert alert-info"},null,8,Zr)])}}}),Kr={key:0,class:"alert alert-info"},ei={class:"text-field-lable"},ti={key:1},ni={class:"text-field-lable"},oi=["data-hover"],ri=n.createTextVNode(" : "),ii=n.defineComponent({__name:"Field",props:{model:null},setup(e){const t=e,o=oe(),r=Ln(t.model,o.lang),i=qt(t.model,o.lang),l=Gt(t.model),a=Ht(t.model);return(s,c)=>{const d=n.resolveComponent("font-awesome-icon");return n.openBlock(),n.createElementBlock("div",null,[e.model.type===n.unref(S).InfoSection?(n.openBlock(),n.createElementBlock("div",Kr,[n.createElementVNode("h3",ei,n.toDisplayString(n.unref(r)),1)])):(n.openBlock(),n.createElementBlock("span",ti,[n.createElementVNode("span",ni,[n.createTextVNode(n.toDisplayString(n.unref(r))+" ",1),n.unref(i)?(n.openBlock(),n.createElementBlock("span",{key:0,class:"hovertext","data-hover":n.unref(i)},[n.createVNode(d,{icon:"fas fa-question-circle",class:"fas fa-question-circle"})],8,oi)):n.createCommentVNode("",!0)]),ri])),e.model.type===n.unref(S).Checkboxes?(n.openBlock(),n.createBlock(Nr,{key:2,model:e.model},null,8,["model"])):n.createCommentVNode("",!0),e.model.type===n.unref(S).DataList?(n.openBlock(),n.createBlock(Sr,{key:3,model:e.model},null,8,["model"])):n.createCommentVNode("",!0),e.model.type===n.unref(S).DropDown?(n.openBlock(),n.createBlock(Tr,{key:4,model:e.model},null,8,["model"])):n.createCommentVNode("",!0),e.model.type===n.unref(S).RadioButtons?(n.openBlock(),n.createBlock(Ir,{key:5,model:e.model},null,8,["model"])):n.createCommentVNode("",!0),n.unref(l)?(n.openBlock(),n.createBlock(Wr,{key:6,model:e.model},null,8,["model"])):n.createCommentVNode("",!0),n.unref(a)?(n.openBlock(),n.createBlock(Hr,{key:7,model:e.model},null,8,["model"])):n.createCommentVNode("",!0),e.model.type===n.unref(S).InfoSection?(n.openBlock(),n.createBlock(Qr,{key:8,model:e.model},null,8,["model"])):n.createCommentVNode("",!0)])}}}),li=n.defineComponent({__name:"Form",props:{model:null},setup(e){return(t,o)=>{var r;return n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList((r=e.model)==null?void 0:r.fields,i=>(n.openBlock(),n.createBlock(ii,{key:i.id,model:i},null,8,["model"]))),128)}}}),xn=e=>(n.pushScopeId("data-v-4acd9d0f"),e=e(),n.popScopeId(),e),ai=xn(()=>n.createElementVNode("h2",null,"Form Submission",-1)),si=xn(()=>n.createElementVNode("hr",null,null,-1)),ci={class:"control"},di=["disabled"],fi=n.defineComponent({__name:"App",props:{piniaInstance:null,repositoryRoot:null,formId:null,submissionId:null},setup(e){const t=e,o=oe(t.piniaInstance);t.formId?o.loadForm(t.formId):t.submissionId&&o.loadSubmission(t.submissionId),n.watch(()=>o.transientMessage,async l=>{l&&setTimeout(()=>{o.transientMessage=null},2e3)});const r=()=>o.submitForm(),i=n.computed(()=>!!o.form);return(l,a)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createVNode(n.Transition,{name:"fade"},{default:n.withCtx(()=>[n.unref(o).transientMessage?(n.openBlock(),n.createElementBlock("p",{key:0,class:n.normalizeClass("alert alert-"+n.unref(o).transientMessageClass)},n.toDisplayString(n.unref(o).transientMessage),3)):n.createCommentVNode("",!0)]),_:1}),ai,si,n.unref(o).form?(n.openBlock(),n.createBlock(li,{key:0,model:n.unref(o).form},null,8,["model"])):n.createCommentVNode("",!0),n.createElementVNode("div",ci,[n.createElementVNode("button",{type:"button",class:"btn btn-primary",disabled:!n.unref(i),onClick:r},"Submit",8,di)])],64))}}),Ri="",mi=mt(fi,[["__scopeId","data-v-4acd9d0f"]]),Sn=qe("LoginStore",{state:()=>({authorizationApiRoot:null,loginResult:null}),actions:{authorize(e){var o;if(!e){console.error("JWT token is null.");return}if(!this.authorizationApiRoot){console.error("Authorization service root is not specified.");return}const t=((o=this.authorizationApiRoot)==null?void 0:o.replace(/\/+$/,""))+"/api/GoogleIdentity";fetch(t,{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{r.success?this.loginResult=r:(this.loginResult=r,console.error("User authorization not successful."))}).catch(r=>{this.loginResult={},console.error("User authorization failed: ",r)})}}}),ui=n.createElementVNode("h2",null,"Login",-1),pi=n.createElementVNode("br",null,null,-1),hi=n.createElementVNode("br",null,null,-1),gi=n.defineComponent({__name:"App",props:{piniaInstance:null,authorizationRoot:null},setup(e){const t=e,o=Sn(t.piniaInstance);n.onMounted(()=>{o.authorizationApiRoot=t.authorizationRoot});const r=i=>{o.authorize(i.credential)};return(i,l)=>{const a=n.resolveComponent("GoogleLogin");return n.openBlock(),n.createElementBlock(n.Fragment,null,[ui,pi,n.createVNode(a,{callback:r}),hi],64)}}}),Cn=qe("WorkflowBuilderStore",{state:()=>({workflow:null,transientMessage:null,transientMessageClass:null}),actions:{loadWorkflow(e){const t=`https://localhost:5020/api/workflow/${e}`;fetch(t,{method:"GET"}).then(o=>o.json()).then(o=>{this.workflow=o}).catch(o=>{console.error("Load Workflow API Error:",o)})},saveWorkflow(){var r,i;if(!this.workflow){console.error("Cannot save null workflow.");return}const e=((i=(r=this.workflow)==null?void 0:r.id)==null?void 0:i.toString())===V.EMPTY;let t="https://localhost:5020/api/workflow",o="";e?(console.log("Saving new workflow."),o="POST"):(console.log("Updating existing workflow."),t=`${t}/${this.workflow.id}`,o="PUT"),fetch(t,{body:JSON.stringify(this.workflow),method:o,headers:{encType:"multipart/form-data","Content-Type":"application/json"}}).then(l=>{if(l.ok)this.transientMessage="The form saved successfully",this.transientMessageClass="success";else switch(this.transientMessageClass="danger",l.status){case 400:this.transientMessage="Bad request. Failed to save the workflow";break;case 404:this.transientMessage="Workflow not found";break;case 500:this.transientMessage="An internal server error occurred. Failed to save the workflow";break;default:this.transientMessage="Unknown error occured. Failed to save the workflow";break}}).catch(l=>{this.transientMessage="Unknown error occurred",this.transientMessageClass="danger",console.error("Workflow Save API Error:",l)})}}}),Tn=e=>(n.pushScopeId("data-v-4ad7f70c"),e=e(),n.popScopeId(),e),bi={class:"action"},Ei=n.createTextVNode(" Name: "),yi=n.createTextVNode(" Description: "),_i=n.createTextVNode(" Form: "),wi=[Tn(()=>n.createElementVNode("option",null,"TO DO Form 1",-1)),Tn(()=>n.createElementVNode("option",null,"TO DO Form 2",-1))],ki=n.defineComponent({__name:"WorkflowAction",props:{model:null},setup(e){return(t,o)=>(n.openBlock(),n.createElementBlock("div",bi,[n.createTextVNode(" Workflow Action: "+n.toDisplayString(e.model.id)+" ",1),n.createElementVNode("div",null,[n.createElementVNode("h4",null,n.toDisplayString(e.model.name),1),Ei,n.withDirectives(n.createElementVNode("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=r=>e.model.name=r)},null,512),[[n.vModelText,e.model.name]])]),n.createElementVNode("div",null,[n.createElementVNode("p",null,n.toDisplayString(e.model.description),1),yi,n.withDirectives(n.createElementVNode("textarea",{"onUpdate:modelValue":o[1]||(o[1]=r=>e.model.description=r)},null,512),[[n.vModelText,e.model.description]])]),n.createElementVNode("div",null,[n.createElementVNode("p",null,n.toDisplayString(e.model.description),1),_i,n.withDirectives(n.createElementVNode("select",{"onUpdate:modelValue":o[2]||(o[2]=r=>e.model.formId=r)},wi,512),[[n.vModelSelect,e.model.formId]])])]))}}),vi="",Di=mt(ki,[["__scopeId","data-v-4ad7f70c"]]),Ni=n.defineComponent({__name:"Workflow",props:{model:null},setup(e){return(t,o)=>(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.model.actions,r=>(n.openBlock(),n.createBlock(Di,{key:r.id,model:r},null,8,["model"]))),128))}}),Vn=e=>(n.pushScopeId("data-v-493b52a9"),e=e(),n.popScopeId(),e),xi=Vn(()=>n.createElementVNode("h2",null,"Workflow Builder",-1)),Si={class:"control"},Ci=["disabled"],Ti=["disabled"],Vi={class:"toolbar"},Ii=["disabled"],Oi=Vn(()=>n.createElementVNode("hr",null,null,-1)),Bi=n.defineComponent({__name:"App",props:{piniaInstance:null,repositoryRoot:null,workflowId:null},setup(e){const t=e,o=Cn(t.piniaInstance);t.workflowId&&o.loadWorkflow(t.workflowId),n.watch(()=>o.transientMessage,async a=>{a&&setTimeout(()=>{o.transientMessage=null},2e3)});const r=()=>{o.workflow={id:V.EMPTY,name:"",description:"",states:[]}},i=n.computed(()=>!o.workflow),l=()=>{if(!o.workflow){console.error("Cannot add action to null workflow");return}const a={id:V.create().toString(),title:"",description:"",formId:V.createEmpty()};o.workflow.actions?o.workflow.actions.push(a):o.workflow.actions=[a]};return(a,s)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createVNode(n.Transition,{name:"fade"},{default:n.withCtx(()=>[n.unref(o).transientMessage?(n.openBlock(),n.createElementBlock("p",{key:0,class:n.normalizeClass("alert alert-"+n.unref(o).transientMessageClass)},n.toDisplayString(n.unref(o).transientMessage),3)):n.createCommentVNode("",!0)]),_:1}),xi,n.createElementVNode("div",Si,[n.createElementVNode("button",{type:"button",class:"btn btn-primary",disabled:!n.unref(i),onClick:r},"New Workflow",8,Ci),n.createElementVNode("button",{type:"button",class:"btn btn-success",disabled:n.unref(i),onClick:s[0]||(s[0]=(...c)=>a.saveForm&&a.saveForm(...c))},"Save",8,Ti)]),n.createElementVNode("div",Vi,[n.createElementVNode("button",{disabled:n.unref(i),onClick:s[1]||(s[1]=c=>l())},"+ Form Submission Action",8,Ii)]),Oi,n.unref(o).workflow?(n.openBlock(),n.createBlock(Ni,{key:0,model:n.unref(o).workflow},null,8,["model"])):n.createCommentVNode("",!0)],64))}}),Ui="",$i=mt(Bi,[["__scopeId","data-v-493b52a9"]]);j.FormBuilder=_r,j.FormModels=On,j.FormSubmission=mi,j.Login=gi,j.WorkflowBuilder=$i,j.useFormBuilderStore=Be,j.useFormSubmissionStore=oe,j.useLoginStore=Sn,j.useWorkflowBuilderStore=Cn,Object.defineProperties(j,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
