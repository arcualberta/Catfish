@model CatfishWebExtensions.Models.Blocks.Carousel
@using CatfishWebExtensions.Models.Blocks;
@using CatfishExtensions.Interfaces;
@using static CatfishWebExtensions.Constants.Enums
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@inject ICatfishAppConfiguration _catfishConfiguration;

@{
    var css_classes = Model.CssClasses.Value;
    var blockDivId = $"carousel-{Model.Id.ToString()}";
}

<div id="@blockDivId" class="carousel slide @Model.CssClasses.Value" data-bs-ride="carousel">
    @*<ol class="carousel-indicators">
        @for(int i=0; i<Model.Items.Count; ++i)
        {
            var isActive = i == 0 ? "active" : "";
            <li data-target="#@blockDivId" data-slide-to="@i" class="@isActive"></li>
        }
    </ol>*@
    <div class="carousel-inner">
        @for(int i=0; i<Model.Items.Count; ++i){

            var item = Model.Items[i];
            if (item is Slide)
            {
                var viewData = new ViewDataDictionary(this.ViewData);
                viewData.Add("index", i);
                var slide = item as Slide;
               <partial name="DisplayTemplates/Slide" model="@slide" view-data="@viewData" />
            }
        }
     </div>
    <a class="carousel-control-prev"data-bs-target="#@blockDivId" role="button" data-bs-slide="prev">
        <i class="fa fa-caret-left fa-4x carousel-icon" aria-hidden="true"></i>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" data-bs-target="#@blockDivId" role="button" data-bs-slide="next">
        <i class="fa fa-caret-right fa-4x carousel-icon" aria-hidden="true"></i>
        <span class="sr-only">Next</span>
    </a>

    @*<button class="carousel-control-prev" type="button" data-bs-target="#@blockDivId" data-bs-slide="prev">
    <span class="fa fa-caret-left fa-4x carousel-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#@blockDivId" data-bs-slide="next">
    <span class="fa fa-caret-right fa-4x carousel-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>*@
</div>

@*<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="/uploads/0fab4164-b33e-48a3-b8fa-d36828e8518e/bird-s-eye-view-photography-of-lighted-city-3573383.jpg"  class="d-block w-100" alt="First slide">
    </div>
    <div class="carousel-item">
      <img src="/uploads/402bc58e-b5b0-4f9a-b4da-26901218775c/cute-business-kids-working-on-project-together-surfing-3874121.jpg" class="d-block w-100" alt="Second slide">
    </div>
    <div class="carousel-item">
      <img src="/uploads/d1e0f15c-1264-4e55-8fc2-7f2fe4d2d170/diverse-group-of-colleagues-having-meditation-together-3860619.jpg" class="d-block w-100" alt="Third slide">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>*@




