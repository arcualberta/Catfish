@model Catfish.Core.Models.Forms.TextField

@Html.Hidden("ModelType", Model.GetType().AssemblyQualifiedName, new Dictionary<string, object>()
{
    {"class", "model-type"}
})
@Html.HiddenFor(m => m.Ref)

@{ 
    string lang = ViewBag.ActiveLanguage as string;
    string name = Model.GetName(lang, true);
}

<div class="form-field-name">
    @Html.Label(string.IsNullOrEmpty(name) ? "" : name)
</div>
<div class="form-field-value">
    @for (int i = 0; i < Model.Values.Count(); ++i)
    {
        if (Model.Values[i].LanguageCode == lang)
        {
            @Html.HiddenFor(m => m.Values[i].LanguageCode)
            @Html.EditorFor(m => m.Values[i].Value)
        }
    }
</div>


